# abr-geocoder-web
デジタル庁 アドレス・ベース・レジストリ ジオコーダー(Webアプリ版)

## 概要

abr-geocoder-webは、アドレス（住所・所在地）文字列の正規化を行うことができるWebアプリです。
テキスト入力では、正規化したアドレスをブラウザ上で表示して確認することができます。
ファイル入力では、複数の正規化したアドレスをCSVファイルとしてダウンロードを行うことができます。

## インデックス
- [abr-geocoder-web](#abr-geocoder-web)
  - [概要](#概要)
  - [インデックス](#インデックス)
  - [ドキュメント](#ドキュメント)
  - [使用環境](#使用環境)
  - [ローカルで起動する方法](#ローカルで起動する方法)
  - [使い方](#使い方)
    - [`テキスト入力`](#テキスト入力)
    - [`ファイル入力`](#ファイル入力)

## ドキュメント
- [このプロジェクトへの参加について](CONTRIBUTING/CONTRIBUTING.ja.md)

-------

## 使用環境

Node: **node.js version 20以上** が必要です。
対象ブラウザ：Google Chrome, Microsoft Edge

## ローカルで起動する方法

1. 本リポジトリをcloneする
2. `npm ci` で依存ライブラリをインストールする
3. `.env.example` を参考に `.env` or `.env.local` ファイルを作成して環境変数を設定する
4. REST APIをcloneする（※ [参考リンク]()を参考）
5. 開発モードで実行する `npm run dev`
6. デフォルトでは `http://localhost:8080/` で立ち上がるのでブラウザでアクセスする

## 使い方

### `テキスト入力`

- `/one-line-geocoding` にアクセス
  - `/one-line-geocoding?address=東京都千代田区紀尾井町1-3`のように`address`パラメータで住所を入力済みにすることも可能
- 住所入力欄に任意の住所を入力する
- 検索対象、出力形式を指定してジオコーディング開始ボタン押下
  - ※検索対象、出力形式については [API仕様](https://lp.geocoder.address-br.digital.go.jp/openapi/) を参照
- ジオコーディング結果が指定した検索対象、出力形式で表示される
- コピーボタンを押すと、表示されている形式の文字列がクリップボードにコピーされる

### `ファイル入力`
- `/file-geocoding` にアクセス
- 以下フォーマットのファイルを用意
  - 文字コード：Shift_JIS または UTF-8
  - 改行コード：CR, LF, CR+LF
  - 入力ファイルの例：
    ```
    東京都千代田区紀尾井町1-3
    東京都千代田区永田町1-6-1
    ```
- ファイルを選択して、ジオコーディング開始ボタン押下
- ジオコーディング結果のファイルが表示されるので、ファイルを保存するボタンでダウンロード可能となる
